


<!--

some notes about templates;

 - IE barfs if the li is not contained within a ul.  Put the ID on the li and do NOT put an id on the ul.
   -> if a ul has an id, it'll be considered a template and imported.

-->



<!--

########################################################


PRODUCT FINDER

########################################################


-->

<ul>
	<li class='clearfix loadingBG stdListItem' id='adminProdStdForList'>
	<div class='removeProd' onClick='myControl.ext.admin.util.removePidFromFinder($(this).closest("[data-pid]"));'><span class='ui-icon ui-icon-closethick'></span></div>
	<div class='handle'><span class='ui-icon ui-icon-grip-dotted-vertical'></span></div>
	<img class='prodThumb' data-bind='var: product(zoovy:prod_image1); format:imageURL;' width='50' height='50' />
	<div data-bind='var:product(zoovy:prod_name); format:text;' class='prodName'></div>
	<div class='pid' data-bind='var:product(pid); format:text;'></div>
	</li>
</ul>


<ul>
	<li class='clearfix loadingBG simpleListItem' id='adminProdSimpleForList'>
	<div class='removeProd' onClick='myControl.ext.admin.util.removePidFromFinder($(this).closest("[data-pid]"));'><span class='ui-icon ui-icon-closethick'></span></div>
	<div class='handle'><span class='ui-icon ui-icon-grip-dotted-vertical'></span></div>
	<div data-bind='var:product(zoovy:prod_name); format:text;' class='prodName'></div>
	<div class='pid' data-bind='var:product(pid); format:text;'></div>
	</li>
</ul>

<ul>
	<li class='clearfix loadingBG stdListItem' id='adminElasticResult'>
	<div class='removeProd' onClick='myControl.ext.admin.util.removePidFromFinder($(this).closest("[data-pid]"));'><span class='ui-icon ui-icon-closethick'></span></div>
	<div class='handle'><span class='ui-icon ui-icon-grip-dotted-vertical'></span></div>
	<img class='prodThumb' data-bind='var: product(images); format:elastimage1URL;extension:admin;' width='50' height='50' />
	<div data-bind='var:product(prod_name); format:text;' class='prodName'></div>
	<div class='pid' data-bind='var:product(pid); format:text;'></div>
	</li>
</ul>




<div class='loadingBG' id='adminProductFinder'>
	<section class='ui-corner-bottom ui-widget'>
	<table class='finderTable'>
	<tr>
		<td colspan='2'>
<form id='finderSearchForm' action='#' name='finderSearchForm' >
<fieldset>
<input type='text' class='ui-corner-left finderSearch' value='' name='query' id='finderSearchQuery' size='40' />
<input class='ui-state-default ui-corner-right ui-state-active' type='submit' value='search' />
<input type='hidden' value='' name='CATALOG' />
</fieldset>
</form>
		</td>
	</tr>
	<tr>
		<td><h4><span id='resultsKeyword'></span><span id='resultsListItemCount' class='displayNone'></span></h4></td>
		<td><h4>Current Items<span id='focusListItemCount'></span>:</h4></td>
	<tr>
		<td>
		<div class='finderProdlistContainer ui-widget-content'>
		<ul id='finderSearchResults' class='connectedSortable finderProdlist finderResults'></ul>
		</div>
		</td>
		
		<td>
		<div class='finderProdlistContainer ui-widget-content'>
		<ul id='finderTargetList' class='connectedSortable finderProdlist targetList'></ul>
		<ul id='finderRemovedList' class='displayNone'></ul>
		</div>

		</td>
	</tr>
	<tr>
		<td class='alignRight'>
		
		<button class='ui-button ui-state-default ui-corner-all ui-button-text-icon-secondary' data-finderAction='selectAll'>
		<span class='ui-button-text'>select all</span>
		<span class='ui-icon ui-icon-arrow-1-n ui-button-icon-secondary'></span>
		</button>

		<button class='ui-button ui-state-default ui-corner-all ui-button-text-icon-secondary' data-finderAction='moveToTop'>
		<span class='ui-button-text'>move selected to top</span>
		<span class='ui-icon ui-icon-arrow-1-ne ui-button-icon-secondary'></span>
		</button>

		<button class='ui-button ui-state-default ui-corner-all ui-button-text-icon-secondary' data-finderAction='moveToBottom'>
		<span class='ui-button-text'>move selected to bottom</span>
		<span class='ui-icon ui-icon-arrow-1-se ui-button-icon-secondary'></span>
		</button>
		
		</td>
		<td class='alignRight'>
		<div class='floatLeft finderMessaging' id='finderMessaging'></div>
		<button data-bind='var:category(id);format:assignAttribute; attribute:data-path;' class='ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only ui-state-highlight ' data-finderAction='save'>
		<span class='ui-button-text'>Save</span>
		</button>
		</td>
	</tr>
	</table>
</section>
</div>



<!--
multipage header.
the ul in the ul also gets interpolated to generate the list of pages
click event is added at that time.
-->
<div id='adminMultiPage'>
	<div class=' ui-widget ui-state-default mpControls'>
		<span class='ui-state-active ui-corner-all floatRight paging' data-role='next' title='next page'><span class='ui-icon ui-icon-circle-triangle-e'></span></span>
		<div class='floatRight ddUlMenu'>
		<ul>
			<li><a href='#'><span data-bind='var:prodlistmeta(page_in_focus); format:text;'></span><span data-bind='var:prodlistmeta(total_page_count); format:text; pretext: of ;'></span></a>
				<ul data-bind='var:prodlistmeta(total_page_count); format:mpPagesAsListItems; extension:store_prodlist;' class='ui-widget-content ui-corner-bottom'></ul>
			</li>
		</ul>
		</div>
		<span class='ui-state-active ui-corner-all floatRight paging' data-role='previous' title='previous page'><span class='ui-icon ui-icon-circle-triangle-w'></span></span>
		<span data-bind='var:prodlistmeta(page_start_point); format:text;'></span>
		<span data-bind='var:prodlistmeta(page_end_point); format:text; pretext: - ;'></span>
		<span data-bind='var:prodlistmeta(total_product_count); format:text; pretext: of ;'></span>
	</div>
</div>










<!--

########################################################


ORDER MANAGER

########################################################


-->










<!-- used for order lineitem in orderList template -->
<table>
<tr id='adminOrderLineItem' >
	<td></td>
	<td><span data-bind='var:order(ORDERID);format:text;'></span></td>
	<td><span data-bind='var:order(ORDER_BILL_NAME);format:text;'></span></td>
	<td><span data-bind='var:order(ORDER_TOTAL);format:money; currencySign: $;  hideZero:false;'></span></td>
	<td><span data-bind='var:order(ORDER_PAYMENT_METHOD);format:text;'></span></td>
	<td><span data-bind='var:order(CREATED_GMT);format:unix2mdy;'></span></td>
	<td><span data-bind='var:order(ORDER_BILL_ZONE);format:billzone;extension:admin_orders;'></span></td>
	<td><span data-bind='var:order(ORDER_PAYMENT_STATUS);format:paystatus;extension:admin_orders;'></span></td>
	<td><span data-bind='var:order(POOL);format:text;'></span></td>
	<td><button class='ui-button ui-state-default ui-corner-all viewOrder' data-bind='var:order(ORDERID);format:assignAttribute; attribute:data-orderid;' >view</button></td>
</tr>
</table>
<!-- /adminOrderLineItem -->


<div id='orderDetailsTemplate' class='orderDetails loadingBG'>
	

<div class='orderDetailHeader clearfix'>
	<div class='floatRight alignRight'>
		<h5 data-bind="var:order(data.sdomain);format:text;"></h5>
		<h5 data-bind="var:order(data.created); format:unix2mdy;"></h5>
	</div>

	<div class='floatLeft '>
		<h2>Order Status: <select data-bind="var:order(data.pool); format:orderPoolSelect; extension:admin_orders;" onChange="$(this).addClass('edited'); myControl.ext.admin_orders.util.updateOrderChangeCount();"></select></h2>
		<h3 data-bind="var:order(data.payment_status);format:paystatus; extension:admin_orders;">Payment Status: </h3>
	</div>
</div>

<div class='clearfix'>

	<div class='orderDetailsStuff floatRight'>
	<span class='floatRight'><a href='#'  onClick="myControl.ext.admin_orders.action.editOrderContents(); return false;" class='editTextLink'>edit</a></span>
	<h2>Order Contents</h2>
	<table id='orderContentsTable' data-bind="var:order(stuff); format:stuffList; extension:admin_orders; loadsTemplate: orderStuffItemTemplate;"></table>
	<ul class='clearfix alignRight floatRight'>
		<li data-bind="var:order(data.buysafe_totalbondcost); format:money; currencySign: $; pretext:Bond Cost: ; hideZero:true;"></li>
		<li data-bind="var:order(data.gfc_total); format:money; currencySign: $; pretext:Giftcart Total: ; hideZero:true;"></li>
		<li data-bind="var:order(data.ins_total); format:money; currencySign: $; pretext:Insurance Total: ; hideZero:true;"></li>
		<li data-bind="var:order(data.order_subtotal); format:money; currencySign: $; pretext:Order Total: ;"></li>
		<li data-bind="var:order(data.balance_due); format:money; currencySign: $; pretext:Balance Due: ; "></li>
	</ul>
	</div>

	<div class='orderAddresses floatLeft'>
	
		<address class='shipAddress editableParent' >
		<h4>Shipping Address <a href='#'  onClick="myControl.ext.admin_orders.util.makeEditable('.shipAddress',{}); return false;" class='editTextLink'>edit</a></h4>
		<h6>
			<span data-bind='var:order(data.ship_firstname);format:text;' class='editable' title='first name'></span>
			<span data-bind='var:order(data.ship_lastname);format:text;' class='editable' title='last name'></span>
		</h6>
		<div data-bind='var:order(data.ship_company);format:text;' class='editable' title='company'></div>
		<div data-bind='var:order(data.ship_address1);format:text;' class='editable' title='address'></div>
		<div data-bind='var:order(data.ship_address2);format:text;' class='editable' title='address 2'></div>
		<div>
			<span data-bind='var:order(data.ship_city);format:text;posttext:, ;' class='editable' title='city'></span>
			<span data-bind='var:order(data.ship_state);format:text;posttext:. ;' class='editable' title='state'></span>
			<span data-bind='var:order(data.ship_zip);format:text; defaultVar:order(data.ship_int_zip);' class='editable' title='zip'></span>
		</div>
		<div data-bind='var:order(data.ship_country);format:text;'></div>
		<div data-bind='var:order(data.ship_email);format:text;' class='editable' title='email address'></div>
		</address>

		<address class='billAddress editableParent'>
		<h4>Billing Address <a href='#'  onClick="myControl.ext.admin_orders.util.makeEditable('.billAddress',{}); return false;" class='editTextLink'>edit</a></h4>
		<h6>
			<span data-bind='var:order(data.bill_firstname);format:text;' class='editable' title='first name'></span>
			<span data-bind='var:order(data.bill_lastname);format:text;' class='editable' title='last name'></span>
		</h6>
		<div data-bind='var:order(data.bill_company);format:text;' class='editable' title='company'></div>
		<div data-bind='var:order(data.bill_address1);format:text;' class='editable' title='address'></div>
		<div data-bind='var:order(data.bill_address2);format:text;' class='editable' title='address 2'></div>
		<div>
			<span data-bind='var:order(data.bill_city);format:text;posttext:, ;' class='editable' title='city'></span>
			<span data-bind='var:order(data.bill_state);format:text;posttext:. ;' class='editable' title='state'></span>
			<span data-bind='var:order(data.bill_zip);format:text; defaultVar:order(data.bill_int_zip);' class='editable' title='zip'></span>
		</div>
		<div data-bind='var:order(data.bill_country);format:text;'></div>
		<div data-bind='var:order(data.bill_email);format:text;' class='editable' title='email address'></div>
		</address>

	
	</div>

</div>

<div id="orderDetailButtonBar" class="ui-tabs ui-widget ui-widget-content ui-corner-all clearfix">
	<button class='floatLeft ui-state-default ui-corner-all ui-button' onClick="$ordersModal.dialog('close');">Cancel Changes</button>
	<button class='floatLeft ui-state-default ui-corner-all ui-button hide4Native'>Send Email</button>
	<button class='floatLeft ui-state-default ui-corner-all ui-button hide4Native'>Export</button>
	<button class='floatLeft ui-state-default ui-corner-all ui-button hide4Native'>Print Invoice</button>
	<button class='floatLeft ui-state-default ui-corner-all ui-button hide4Native'>Packing Slip</button>

	<button class='floatRight ui-state-active ui-corner-all ui-button' onClick="myControl.ext.admin_orders.action.saveChangesToOrder();">Save <span id='changeCount'></span> Changes</button>
</div>


<section class='notes'>
<h2>Notes:</h2>

	<div class='floatRight customerNotes'>
		<span class='floatRight'><a href='#'  onClick="myControl.ext.admin_orders.util.makeEditable('.customerNotes',{'inputType':'textarea'}); return false;" class='editTextLink'>edit</a></span>
		<h3>Customer Notes: </h3>
		<div class='note customerNotes editable'>NEED CUSTOMER RECORD CALL</div>
	</div>
	
	<div class='floatLeft orderNotes'>
		<span class='floatRight'><a href='#'  onClick="myControl.ext.admin_orders.util.makeEditable('.orderNotes',{'inputType':'textarea'}); return false;" class='editTextLink'>edit</a></span>
		
		<h3>Public Order Notes</h3>
		<div class='note publicNotes editable' data-bind='var:order(data.order_notes);format:text;'></div>

		<h3>Private Order Notes:</h3>
		<div class='note privateNotes editable' data-bind='var:order(data.private_notes);format:text;'></div>

	</div>
	
	
</section>

</div><!-- /order details template -->



<table>
	<tr id='orderStuffItemEditorTemplate' class='orderStuffItemRow'>
		<td><span data-bind='var: order(stid); format:text; className: stid;'></span></td>
		<td><input type='text' data-bind="var: order(full_product.zoovy:prod_name); format:popVal;" size='20' class='prodName' /></td>
		<td><input type='number' data-bind="var: order(qty); format:popVal;" size='3' class='prodQty' /></td>
		<td><span></span></td>
		<td>price</td>
		<td>tax</td>
		<td>weight</td>
		<td>extended</td>
	</tr>
</table>



<table>
	<tr id='orderStuffItemTemplate' class='orderStuffItemRow'>

	<td>
		<h5 class='ztable_row_small stid' data-bind='var: order(stid); format:text; className: stid; pretext: Sku: ;'></h5>
		<div data-bind='var: order(full_product.zoovy:prod_name); format:text; '></div>
		<div class='prodOptions stuffProdOptions' data-bind='var: order(*options); format:selectedOptionsDisplay;'></div>
	</td>
	<td><span data-bind='var: order(qty); format:text; pretext:qty: ;'></span></td>
	<td><span data-bind='var: order(price); format:money; currencySign: $;  hideZero:false; pretext: x ;' ></span></td>
	<td><span data-bind='var: order(extended); format:money; currencySign: $; hideZero:false; pretext: = ;'></span></td>
	
	
	</td>

	</tr>
</table> <!-- /orderStuffItemTemplate -->
